# basic-prisma-seeder - Database Seeding Example

This directory contains a database seeding example using Node.js, Prisma, and Faker.js, generated by the `Rules-LLM-Coding` scaffolding script.

## Purpose

- Demonstrate how to set up Prisma for database interactions with various database types.
- Show how to generate realistic seed data using Faker.js.
- Provide a runnable script to populate a development database.

## Prerequisites

- [Node.js](https://nodejs.org/) (v18 or later recommended) and npm installed.
- Access to a database instance OR use the default SQLite setup (which requires no external database).
- A tool to interact with your database (optional, e.g., `psql`, DBeaver, TablePlus, DB Browser for SQLite).

## Setup

1.  **Navigate to Directory:**
    ```bash
    cd examples/database/basic-prisma-seeder
    ```

2.  **Install Dependencies:**
    ```bash
    npm install
    ```

3.  **Configure Database Connection:**
    *   **Choose Database Type:** Edit `prisma/schema.prisma` and look at the `datasource db` block. Uncomment the `provider` line for your desired database (e.g., `provider = "postgresql"`) and comment out the others. (Defaults to `sqlite`).
    *   **Set Connection URL:**
        *   Copy the example environment file:
            ```bash
            cp .env.example .env
            ```
        *   Edit the `.env` file. Uncomment the `DATABASE_URL` line that matches your chosen provider and fill in your actual connection details (host, user, password, database name). Comment out the other `DATABASE_URL` examples. (Defaults to SQLite `file:./dev.db`).

4.  **Apply Database Schema (Migration):**
    *   This command reads your schema, connects to the specified database (creating it if needed for SQLite/PostgreSQL/MySQL), applies the table structure, and generates the Prisma Client.
    ```bash
    npx prisma migrate dev --name init
    ```
    *   If prompted, confirm any database reset actions (usually safe for the first run).
    *   *(Optional)* If you change the schema later, run `npx prisma migrate dev --name <migration_name>` again.

## Running the Seeder

Once setup is complete, run the seed script:

```bash
npm run prisma:seed
```

This command executes `node prisma/seed.js`, which will (by default):
1. Delete existing data in the User, Profile, and Post tables.
2. Generate and insert new mock data using Faker.js.

Check your database to confirm the data has been seeded. You can use a database tool or run `npx prisma studio` for a web-based viewer.

## Customization

- **Schema:** Modify the models defined in `prisma/schema.prisma`. Remember to run `npx prisma migrate dev` after changes.
- **Seeding Logic:** Edit `prisma/seed.js` to change the number of records generated, the data fields, relationships, or generation logic.

